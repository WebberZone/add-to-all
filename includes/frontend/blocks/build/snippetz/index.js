(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=window.React,o=window.wp.i18n,i=window.wp.blockEditor,a=window.wp.components,l=window.wp.serverSideRender;var s=e.n(l);const r=window.wp.data,p=window.wp.coreData,d=window.wp.element,c=e=>`${e.title.rendered||(0,o.__)("(No title)","add-to-all")} (${(e.meta._ata_snippet_type||"html").toUpperCase()})`;function _({value:e,onChange:t}){const[i,l]=(0,d.useState)(""),{snippets:s,selectedSnippet:_,isLoading:u}=(0,r.useSelect)((t=>{const{getEntityRecords:n,getEntityRecord:o}=t(p.store),a={per_page:20,_fields:["id","title","meta"],orderby:"title",order:"asc",search:i||void 0};return{snippets:n("postType","ata_snippets",a),selectedSnippet:e?o("postType","ata_snippets",e,{_fields:["id","title","meta"]}):null,isLoading:t(p.store).isResolving("getEntityRecords",["postType","ata_snippets",a])}}),[i,e]),w=(s||[]).map((e=>({value:e.id,label:c(e)})));return _&&!w.find((t=>t.value===e))&&w.unshift({value:_.id,label:c(_)}),(0,n.createElement)(a.ComboboxControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,o.__)("Choose Snippet","add-to-all"),value:e||0,onChange:e=>t(e?parseInt(e,10):0),options:w,onFilterValueChange:e=>l(e)})}const u=JSON.parse('{"UU":"webberzone/snippetz"}');(0,t.registerBlockType)(u.UU,{edit:function({attributes:e,setAttributes:t}){const{snippetId:l}=e,d=(0,i.useBlockProps)(),{snippet:c,isLoading:u}=(0,r.useSelect)((e=>{if(!l)return{snippet:null,isLoading:!1};const{getEntityRecord:t,isResolving:n}=e(p.store);return{snippet:t("postType","ata_snippets",l,{_fields:["id","title","meta"]}),isLoading:n("getEntityRecord",["postType","ata_snippets",l,{_fields:["id","title","meta"]}])}}),[l]);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.InspectorControls,null,(0,n.createElement)(a.PanelBody,{title:(0,o.__)("Snippet Settings","add-to-all"),initialOpen:!0},(0,n.createElement)(_,{value:l,onChange:e=>t({snippetId:e})}))),(0,n.createElement)("div",{...d},(()=>{if(!l)return(0,n.createElement)(a.Placeholder,{icon:"shortcode",label:(0,o.__)("WebberZone Snippetz","add-to-all"),instructions:(0,o.__)("Select a snippet from the block settings sidebar.","add-to-all")},(0,n.createElement)(_,{value:l,onChange:e=>t({snippetId:e})}));if(u||!c)return(0,n.createElement)(a.Placeholder,{icon:"shortcode",label:(0,o.__)("Loading...","add-to-all")});const i=c.meta._ata_snippet_type||"html",r=c.title.rendered||(0,o.__)("(No title)","add-to-all");return"js"===i||"css"===i?(0,n.createElement)(a.Placeholder,{icon:"shortcode",label:(0,o.__)("WebberZone Snippetz","add-to-all"),instructions:(0,o.sprintf)(/* translators: 1: Snippet type, 2: Snippet title */ /* translators: 1: Snippet type, 2: Snippet title */
(0,o.__)("This is a placeholder for a %1$s snippet with the title: %2$s","add-to-all"),i.toUpperCase(),r)}):(0,n.createElement)(a.Disabled,null,(0,n.createElement)(s(),{block:"webberzone/snippetz",attributes:e}))})()))}})})();