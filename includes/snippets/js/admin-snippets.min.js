!function(e){const{createElement:t,useState:n}=e.element,{ToggleControl:a}=e.components,{createRoot:o}=e.element,{__:d}=e.i18n,{VisuallyHidden:i}=e.components;function s(e){const[o,s]=n(e.initialDisabled||!1),[l,c]=n(!1);return t("div",{},[t(i,{},d(o?"Snippet is disabled":"Snippet is active","add-to-all")),t(a,{checked:!o,onChange:()=>{c(!0);const t=new FormData;t.append("action","ata_toggle_snippet"),t.append("post_id",e.postId),t.append("nonce",e.nonce),fetch(e.ajaxurl,{method:"POST",body:t,credentials:"same-origin"}).then((e=>e.json())).then((e=>{e.success&&s(e.data.disabled)})).finally((()=>{c(!1)}))},disabled:l,className:"ata-snippet-toggle"})])}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".ata-snippet-toggle-wrapper").forEach((function(e){const n=e.dataset.postId,a=e.dataset.nonce,d=window["ataSnippetData_"+n]||{disabled:!1};o(e).render(t(s,{postId:n,nonce:a,initialDisabled:d.disabled,ajaxurl:d.ajaxurl}))}))}))}(wp);